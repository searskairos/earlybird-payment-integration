2025-09-10 09:15:01 [INFO]: Server running on port 3000 {"service":"earlybird-payment-integration"}
2025-09-10 09:15:01 [INFO]: Environment: development {"service":"earlybird-payment-integration"}
2025-09-10 09:15:31 [ERROR]: MongoDB connection error: connect ECONNREFUSED 127.0.0.1:27017, connect ECONNREFUSED ::1:27017 {"service":"earlybird-payment-integration","reason":{"type":"Unknown","servers":{},"stale":false,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"setName":null,"maxElectionId":null,"maxSetVersion":null,"commonWireVersion":0,"logicalSessionTimeoutMinutes":null},"stack":"MongooseServerSelectionError: connect ECONNREFUSED 127.0.0.1:27017, connect ECONNREFUSED ::1:27017\n    at _handleConnectionErrors (C:\\Users\\mjangid\\Documents\\assignment\\node_modules\\mongoose\\lib\\connection.js:816:11)\n    at NativeConnection.openUri (C:\\Users\\mjangid\\Documents\\assignment\\node_modules\\mongoose\\lib\\connection.js:791:11)"}
2025-09-10 11:20:29 [INFO]: Server running on port 3000 {"service":"earlybird-payment-integration"}
2025-09-10 11:20:29 [INFO]: Environment: development {"service":"earlybird-payment-integration"}
2025-09-10 11:20:59 [ERROR]: MongoDB connection error: connect ECONNREFUSED 127.0.0.1:27017, connect ECONNREFUSED ::1:27017 {"service":"earlybird-payment-integration","reason":{"type":"Unknown","servers":{},"stale":false,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"setName":null,"maxElectionId":null,"maxSetVersion":null,"commonWireVersion":0,"logicalSessionTimeoutMinutes":null},"stack":"MongooseServerSelectionError: connect ECONNREFUSED 127.0.0.1:27017, connect ECONNREFUSED ::1:27017\n    at _handleConnectionErrors (C:\\Users\\mjangid\\Documents\\assignment\\node_modules\\mongoose\\lib\\connection.js:816:11)\n    at NativeConnection.openUri (C:\\Users\\mjangid\\Documents\\assignment\\node_modules\\mongoose\\lib\\connection.js:791:11)"}
2025-09-10 11:42:22 [INFO]: Server running on port 3000 {"service":"earlybird-payment-integration"}
2025-09-10 11:42:22 [INFO]: Environment: development {"service":"earlybird-payment-integration"}
2025-09-10 11:42:24 [INFO]: Connected to MongoDB {"service":"earlybird-payment-integration"}
2025-09-10 11:44:01 [INFO]: Server running on port 3000 {"service":"earlybird-payment-integration"}
2025-09-10 11:44:01 [INFO]: Environment: development {"service":"earlybird-payment-integration"}
2025-09-10 11:44:03 [INFO]: Connected to MongoDB {"service":"earlybird-payment-integration"}
2025-09-10 11:44:45 [INFO]: Server running on port 3000 {"service":"earlybird-payment-integration"}
2025-09-10 11:44:45 [INFO]: Environment: development {"service":"earlybird-payment-integration"}
2025-09-10 11:44:47 [INFO]: Connected to MongoDB {"service":"earlybird-payment-integration"}
2025-09-10 11:46:18 [ERROR]: Stripe webhook parsing failed: Input buffers must have the same byte length {"service":"earlybird-payment-integration","code":"ERR_CRYPTO_TIMING_SAFE_EQUAL_LENGTH","stack":"RangeError: Input buffers must have the same byte length\n    at parseStripeEvent (C:\\Users\\mjangid\\Documents\\assignment\\routes\\webhooks.js:35:17)\n    at C:\\Users\\mjangid\\Documents\\assignment\\routes\\webhooks.js:256:15\n    at Layer.handle [as handle_request] (C:\\Users\\mjangid\\Documents\\assignment\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\mjangid\\Documents\\assignment\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at verifyWebhookSignature (C:\\Users\\mjangid\\Documents\\assignment\\routes\\webhooks.js:22:3)\n    at Layer.handle [as handle_request] (C:\\Users\\mjangid\\Documents\\assignment\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\mjangid\\Documents\\assignment\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\mjangid\\Documents\\assignment\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\mjangid\\Documents\\assignment\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\mjangid\\Documents\\assignment\\node_modules\\express\\lib\\router\\index.js:284:15"}
2025-09-10 11:46:18 [ERROR]: Webhook processing failed: {"service":"earlybird-payment-integration","error":"Input buffers must have the same byte length","headers":{"host":"realtime-mcp.ngrok.app","user-agent":"Stripe/1.0 (+https://stripe.com/docs/webhooks)","content-length":"2265","accept":"*/*; q=0.5, application/json","cache-control":"no-cache","content-type":"application/json; charset=utf-8","stripe-signature":"t=1757485014,v1=e19bbc193b24273aad8b9d152d631bc9006a2026583d4d6bb8c66af683f42c65,v0=d6f56c5195c939ad5e433417443a93d6ae8777a8c665fce102a49a9de1fecaba","x-forwarded-for":"3.18.12.63","x-forwarded-host":"realtime-mcp.ngrok.app","x-forwarded-proto":"https","accept-encoding":"gzip"},"body_length":2265}
2025-09-10 11:46:18 [ERROR]: Stripe webhook parsing failed: Input buffers must have the same byte length {"service":"earlybird-payment-integration","code":"ERR_CRYPTO_TIMING_SAFE_EQUAL_LENGTH","stack":"RangeError: Input buffers must have the same byte length\n    at parseStripeEvent (C:\\Users\\mjangid\\Documents\\assignment\\routes\\webhooks.js:35:17)\n    at C:\\Users\\mjangid\\Documents\\assignment\\routes\\webhooks.js:256:15\n    at Layer.handle [as handle_request] (C:\\Users\\mjangid\\Documents\\assignment\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\mjangid\\Documents\\assignment\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at verifyWebhookSignature (C:\\Users\\mjangid\\Documents\\assignment\\routes\\webhooks.js:22:3)\n    at Layer.handle [as handle_request] (C:\\Users\\mjangid\\Documents\\assignment\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\mjangid\\Documents\\assignment\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\mjangid\\Documents\\assignment\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\mjangid\\Documents\\assignment\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\mjangid\\Documents\\assignment\\node_modules\\express\\lib\\router\\index.js:284:15"}
2025-09-10 11:46:18 [ERROR]: Webhook processing failed: {"service":"earlybird-payment-integration","error":"Input buffers must have the same byte length","headers":{"host":"realtime-mcp.ngrok.app","user-agent":"Stripe/1.0 (+https://stripe.com/docs/webhooks)","content-length":"2306","accept":"*/*; q=0.5, application/json","cache-control":"no-cache","content-type":"application/json; charset=utf-8","stripe-signature":"t=1757485014,v1=fa78d638efccb842f3ae86b53a3dda8caa898ea77514265e50d3883f907f0b7a,v0=5f53b8788631fe2269d3f2aa5e731640941f81e8caa3dbb3cc557ebce1f49f06","x-forwarded-for":"3.130.192.231","x-forwarded-host":"realtime-mcp.ngrok.app","x-forwarded-proto":"https","accept-encoding":"gzip"},"body_length":2306}
2025-09-10 11:48:08 [INFO]: Server running on port 3000 {"service":"earlybird-payment-integration"}
2025-09-10 11:48:08 [INFO]: Environment: development {"service":"earlybird-payment-integration"}
2025-09-10 11:48:10 [INFO]: Connected to MongoDB {"service":"earlybird-payment-integration"}
2025-09-10 11:48:23 [ERROR]: Stripe webhook parsing failed: Input buffers must have the same byte length {"service":"earlybird-payment-integration","code":"ERR_CRYPTO_TIMING_SAFE_EQUAL_LENGTH","stack":"RangeError: Input buffers must have the same byte length\n    at parseStripeEvent (C:\\Users\\mjangid\\Documents\\assignment\\routes\\webhooks.js:35:17)\n    at C:\\Users\\mjangid\\Documents\\assignment\\routes\\webhooks.js:256:15\n    at Layer.handle [as handle_request] (C:\\Users\\mjangid\\Documents\\assignment\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\mjangid\\Documents\\assignment\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at verifyWebhookSignature (C:\\Users\\mjangid\\Documents\\assignment\\routes\\webhooks.js:22:3)\n    at Layer.handle [as handle_request] (C:\\Users\\mjangid\\Documents\\assignment\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\mjangid\\Documents\\assignment\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\mjangid\\Documents\\assignment\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\mjangid\\Documents\\assignment\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\mjangid\\Documents\\assignment\\node_modules\\express\\lib\\router\\index.js:284:15"}
2025-09-10 11:48:23 [ERROR]: Webhook processing failed: {"service":"earlybird-payment-integration","error":"Input buffers must have the same byte length","headers":{"host":"realtime-mcp.ngrok.app","user-agent":"Stripe/1.0 (+https://stripe.com/docs/webhooks)","content-length":"2306","accept":"*/*; q=0.5, application/json","cache-control":"no-cache","content-type":"application/json; charset=utf-8","stripe-signature":"t=1757485140,v1=18d4f7941c253b7ad74e4c5ecba3be7930f4e10467cf2c36b89f7ac45ea75f53,v0=d3cbecd0a2682a58d961d63ce60c6888247883ee1d000a176970b5acc8300e8e","x-forwarded-for":"3.130.192.231","x-forwarded-host":"realtime-mcp.ngrok.app","x-forwarded-proto":"https","accept-encoding":"gzip"},"body_length":2306}
2025-09-10 11:48:23 [ERROR]: Stripe webhook parsing failed: Input buffers must have the same byte length {"service":"earlybird-payment-integration","code":"ERR_CRYPTO_TIMING_SAFE_EQUAL_LENGTH","stack":"RangeError: Input buffers must have the same byte length\n    at parseStripeEvent (C:\\Users\\mjangid\\Documents\\assignment\\routes\\webhooks.js:35:17)\n    at C:\\Users\\mjangid\\Documents\\assignment\\routes\\webhooks.js:256:15\n    at Layer.handle [as handle_request] (C:\\Users\\mjangid\\Documents\\assignment\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\mjangid\\Documents\\assignment\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at verifyWebhookSignature (C:\\Users\\mjangid\\Documents\\assignment\\routes\\webhooks.js:22:3)\n    at Layer.handle [as handle_request] (C:\\Users\\mjangid\\Documents\\assignment\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\mjangid\\Documents\\assignment\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\mjangid\\Documents\\assignment\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\mjangid\\Documents\\assignment\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\mjangid\\Documents\\assignment\\node_modules\\express\\lib\\router\\index.js:284:15"}
2025-09-10 11:48:23 [ERROR]: Webhook processing failed: {"service":"earlybird-payment-integration","error":"Input buffers must have the same byte length","headers":{"host":"realtime-mcp.ngrok.app","user-agent":"Stripe/1.0 (+https://stripe.com/docs/webhooks)","content-length":"2265","accept":"*/*; q=0.5, application/json","cache-control":"no-cache","content-type":"application/json; charset=utf-8","stripe-signature":"t=1757485140,v1=a234b548c388b75fb565094ab5a78a8c3b19e97cdfd83d120f02a8f51382c9ec,v0=c85b3ccf02ff4e96b06513d35199b45c68b0acddb814ecd53dabccf65f55f945","x-forwarded-for":"3.130.192.231","x-forwarded-host":"realtime-mcp.ngrok.app","x-forwarded-proto":"https","accept-encoding":"gzip"},"body_length":2265}
2025-09-10 11:49:42 [INFO]: Server running on port 3000 {"service":"earlybird-payment-integration"}
2025-09-10 11:49:42 [INFO]: Environment: development {"service":"earlybird-payment-integration"}
2025-09-10 11:49:44 [INFO]: Connected to MongoDB {"service":"earlybird-payment-integration"}
2025-09-10 11:49:55 [ERROR]: Webhook processing failed: {"service":"earlybird-payment-integration","error":"Unsupported Stripe event type: payment_intent.created","headers":{"host":"realtime-mcp.ngrok.app","user-agent":"Stripe/1.0 (+https://stripe.com/docs/webhooks)","content-length":"2265","accept":"*/*; q=0.5, application/json","cache-control":"no-cache","content-type":"application/json; charset=utf-8","stripe-signature":"t=1757485232,v1=da97f384801232e2c7d51ce8150d4d2959287931506324a88fe0a9c565f3c5ac,v0=0331ba429d6d66b37e77907785cae15a0cc57b28f77e26f345eb4358923ff16a","x-forwarded-for":"3.130.192.231","x-forwarded-host":"realtime-mcp.ngrok.app","x-forwarded-proto":"https","accept-encoding":"gzip"},"body_length":2265}
2025-09-10 11:49:55 [ERROR]: Failed to process payment event: {"service":"earlybird-payment-integration","error":"not authorized on DEV to execute command { find: \"paymentevents\", filter: { duplicate_check: \"d2519d205abfb61ad91b4906abd8dbcb1caf04dfedc3f164a9f4ca6fbb92fc59\" }, limit: 1, singleBatch: true, batchSize: 1, lsid: { id: UUID(\"e8a5bd6c-71a2-4326-8f7f-07cdf3287736\") }, $db: \"DEV\" }","transaction_id":"pi_3S5hONJoXlbUBqaQ12wqpwrH","source":"stripe"}
2025-09-10 11:49:55 [ERROR]: Webhook processing failed: {"service":"earlybird-payment-integration","error":"not authorized on DEV to execute command { find: \"paymentevents\", filter: { duplicate_check: \"d2519d205abfb61ad91b4906abd8dbcb1caf04dfedc3f164a9f4ca6fbb92fc59\" }, limit: 1, singleBatch: true, batchSize: 1, lsid: { id: UUID(\"e8a5bd6c-71a2-4326-8f7f-07cdf3287736\") }, $db: \"DEV\" }","headers":{"host":"realtime-mcp.ngrok.app","user-agent":"Stripe/1.0 (+https://stripe.com/docs/webhooks)","content-length":"2306","accept":"*/*; q=0.5, application/json","cache-control":"no-cache","content-type":"application/json; charset=utf-8","stripe-signature":"t=1757485232,v1=9e0a544e68c8179f4184300f20fa4f6858017448c9c1d0897f130e85a59dac4b,v0=f88825e61077f3ea09c9c8394d0ad983bbc62dbf4e813cc1cd78509fe54f11e6","x-forwarded-for":"52.15.183.38","x-forwarded-host":"realtime-mcp.ngrok.app","x-forwarded-proto":"https","accept-encoding":"gzip"},"body_length":2306}
2025-09-10 11:50:06 [INFO]: Server running on port 3000 {"service":"earlybird-payment-integration"}
2025-09-10 11:50:06 [INFO]: Environment: development {"service":"earlybird-payment-integration"}
2025-09-10 11:50:08 [INFO]: Connected to MongoDB {"service":"earlybird-payment-integration"}
2025-09-10 11:50:13 [ERROR]: Webhook processing failed: {"service":"earlybird-payment-integration","error":"Unsupported Stripe event type: payment_intent.created","headers":{"host":"realtime-mcp.ngrok.app","user-agent":"Stripe/1.0 (+https://stripe.com/docs/webhooks)","content-length":"2265","accept":"*/*; q=0.5, application/json","cache-control":"no-cache","content-type":"application/json; charset=utf-8","stripe-signature":"t=1757485250,v1=006586503994c802c6a1ee450e8ab7824e081bffcd92bdd7e54819b834713572,v0=2845f836350bd7ff03d9a2441101214b46483e42afc8bed487d8d0ecd740c92e","x-forwarded-for":"52.15.183.38","x-forwarded-host":"realtime-mcp.ngrok.app","x-forwarded-proto":"https","accept-encoding":"gzip"},"body_length":2265}
2025-09-10 11:50:13 [ERROR]: Failed to process payment event: {"service":"earlybird-payment-integration","error":"not authorized on DEV to execute command { find: \"paymentevents\", filter: { duplicate_check: \"88986dda94105b1eb03b3207063c359c84771befdfabf81f8cf59e73a6a76b3b\" }, limit: 1, singleBatch: true, batchSize: 1, lsid: { id: UUID(\"b85529b6-d30d-4d63-935c-0d069df5a8d2\") }, $db: \"DEV\" }","transaction_id":"pi_3S5hOfJoXlbUBqaQ1KzFUcMD","source":"stripe"}
2025-09-10 11:50:13 [ERROR]: Webhook processing failed: {"service":"earlybird-payment-integration","error":"not authorized on DEV to execute command { find: \"paymentevents\", filter: { duplicate_check: \"88986dda94105b1eb03b3207063c359c84771befdfabf81f8cf59e73a6a76b3b\" }, limit: 1, singleBatch: true, batchSize: 1, lsid: { id: UUID(\"b85529b6-d30d-4d63-935c-0d069df5a8d2\") }, $db: \"DEV\" }","headers":{"host":"realtime-mcp.ngrok.app","user-agent":"Stripe/1.0 (+https://stripe.com/docs/webhooks)","content-length":"2306","accept":"*/*; q=0.5, application/json","cache-control":"no-cache","content-type":"application/json; charset=utf-8","stripe-signature":"t=1757485250,v1=4cd8dbda499e8610ac1aac2a4f77fde89c69605f4466c026662b91450597a8c7,v0=eade493a2bcf13b30e999b9e0468412a41cfe9a2914f081d4154200215415cba","x-forwarded-for":"52.15.183.38","x-forwarded-host":"realtime-mcp.ngrok.app","x-forwarded-proto":"https","accept-encoding":"gzip"},"body_length":2306}
2025-09-10 11:53:33 [INFO]: Server running on port 3000 {"service":"earlybird-payment-integration"}
2025-09-10 11:53:33 [INFO]: Environment: development {"service":"earlybird-payment-integration"}
2025-09-10 11:53:53 [INFO]: Skipping payment_intent.created event: pi_3S5hSDJoXlbUBqaQ041m1g0G {"service":"earlybird-payment-integration"}
2025-09-10 11:54:03 [ERROR]: MongoDB connection error: connect ECONNREFUSED 127.0.0.1:27017, connect ECONNREFUSED ::1:27017 {"service":"earlybird-payment-integration","reason":{"type":"Unknown","servers":{},"stale":false,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"setName":null,"maxElectionId":null,"maxSetVersion":null,"commonWireVersion":0,"logicalSessionTimeoutMinutes":null},"stack":"MongooseServerSelectionError: connect ECONNREFUSED 127.0.0.1:27017, connect ECONNREFUSED ::1:27017\n    at _handleConnectionErrors (C:\\Users\\mjangid\\Documents\\assignment\\node_modules\\mongoose\\lib\\connection.js:816:11)\n    at NativeConnection.openUri (C:\\Users\\mjangid\\Documents\\assignment\\node_modules\\mongoose\\lib\\connection.js:791:11)\n    at runNextTicks (node:internal/process/task_queues:60:5)\n    at listOnTimeout (node:internal/timers:540:9)\n    at process.processTimers (node:internal/timers:514:7)"}
2025-09-10 11:54:03 [ERROR]: Failed to process payment event: {"service":"earlybird-payment-integration","error":"Operation `paymentevents.findOne()` buffering timed out after 10000ms","transaction_id":"pi_3S5hSDJoXlbUBqaQ041m1g0G","source":"stripe"}
2025-09-10 11:54:03 [ERROR]: Webhook processing failed: {"service":"earlybird-payment-integration","error":"Operation `paymentevents.findOne()` buffering timed out after 10000ms","headers":{"host":"realtime-mcp.ngrok.app","user-agent":"Stripe/1.0 (+https://stripe.com/docs/webhooks)","content-length":"2306","accept":"*/*; q=0.5, application/json","cache-control":"no-cache","content-type":"application/json; charset=utf-8","stripe-signature":"t=1757485470,v1=bdbd7bb31f5d5c3f976787e664b6b7cb21853c5328106599416ff7fac08258a1,v0=969061aad434b4e5c60ef9a061bc1b74a06e594bf81e3b02dab2b2f87aa29107","x-forwarded-for":"3.18.12.63","x-forwarded-host":"realtime-mcp.ngrok.app","x-forwarded-proto":"https","accept-encoding":"gzip"},"body_length":2306}
2025-09-10 11:55:27 [INFO]: Server running on port 3000 {"service":"earlybird-payment-integration"}
2025-09-10 11:55:27 [INFO]: Environment: development {"service":"earlybird-payment-integration"}
2025-09-10 11:55:29 [INFO]: Connected to MongoDB {"service":"earlybird-payment-integration"}
2025-09-10 11:55:42 [INFO]: Skipping payment_intent.created event: pi_3S5hTyJoXlbUBqaQ17V3ok2c {"service":"earlybird-payment-integration"}
2025-09-10 11:55:42 [ERROR]: Failed to process payment event: {"service":"earlybird-payment-integration","error":"not authorized on DEV to execute command { find: \"paymentevents\", filter: { duplicate_check: \"e82662acb764b81d06f8e6bcaffc22ab283f78041af0947e9edd4e902350902f\" }, limit: 1, singleBatch: true, batchSize: 1, lsid: { id: UUID(\"e633c8cf-7253-47b6-95aa-dc2e404242eb\") }, $db: \"DEV\" }","transaction_id":"pi_3S5hTyJoXlbUBqaQ17V3ok2c","source":"stripe"}
2025-09-10 11:55:42 [ERROR]: Webhook processing failed: {"service":"earlybird-payment-integration","error":"not authorized on DEV to execute command { find: \"paymentevents\", filter: { duplicate_check: \"e82662acb764b81d06f8e6bcaffc22ab283f78041af0947e9edd4e902350902f\" }, limit: 1, singleBatch: true, batchSize: 1, lsid: { id: UUID(\"e633c8cf-7253-47b6-95aa-dc2e404242eb\") }, $db: \"DEV\" }","headers":{"host":"realtime-mcp.ngrok.app","user-agent":"Stripe/1.0 (+https://stripe.com/docs/webhooks)","content-length":"2306","accept":"*/*; q=0.5, application/json","cache-control":"no-cache","content-type":"application/json; charset=utf-8","stripe-signature":"t=1757485579,v1=9cbd9fa941b1f0ea048cc625aad12c2ae719b2311b600d4b2fde9e6f7428b85a,v0=014ce91790f01b99594eac17328c4ec6556784af09a30507c6642a8124d6008e","x-forwarded-for":"52.15.183.38","x-forwarded-host":"realtime-mcp.ngrok.app","x-forwarded-proto":"https","accept-encoding":"gzip"},"body_length":2306}
2025-09-10 11:57:16 [INFO]: Server running on port 3000 {"service":"earlybird-payment-integration"}
2025-09-10 11:57:16 [INFO]: Environment: development {"service":"earlybird-payment-integration"}
2025-09-10 11:57:18 [INFO]: Connected to MongoDB {"service":"earlybird-payment-integration"}
2025-09-10 11:57:35 [INFO]: Skipping payment_intent.created event: pi_3S5hVnJoXlbUBqaQ0DITGCx9 {"service":"earlybird-payment-integration"}
2025-09-10 11:57:35 [ERROR]: Failed to process payment event: {"service":"earlybird-payment-integration","error":"not authorized on DEV to execute command { find: \"paymentevents\", filter: { duplicate_check: \"51ed35c1651db0c843fb9e2d2275c1c524e9674bb4fd545c01993935af73f0b8\" }, limit: 1, singleBatch: true, batchSize: 1, lsid: { id: UUID(\"d9fbd292-7ba2-47b4-9930-ba545d0462eb\") }, $db: \"DEV\" }","transaction_id":"pi_3S5hVnJoXlbUBqaQ0DITGCx9","source":"stripe"}
2025-09-10 11:57:35 [ERROR]: Webhook processing failed: {"service":"earlybird-payment-integration","error":"not authorized on DEV to execute command { find: \"paymentevents\", filter: { duplicate_check: \"51ed35c1651db0c843fb9e2d2275c1c524e9674bb4fd545c01993935af73f0b8\" }, limit: 1, singleBatch: true, batchSize: 1, lsid: { id: UUID(\"d9fbd292-7ba2-47b4-9930-ba545d0462eb\") }, $db: \"DEV\" }","headers":{"host":"realtime-mcp.ngrok.app","user-agent":"Stripe/1.0 (+https://stripe.com/docs/webhooks)","content-length":"2306","accept":"*/*; q=0.5, application/json","cache-control":"no-cache","content-type":"application/json; charset=utf-8","stripe-signature":"t=1757485692,v1=7d5926a8476e3a4f2cbc1f8e465ffa92d1648d4ab1c7792b425cecdbd10ca1c6,v0=e6df64d7330f71e69a79a697e6abe23d99defce1e61387757c83ee192c1424f0","x-forwarded-for":"52.15.183.38","x-forwarded-host":"realtime-mcp.ngrok.app","x-forwarded-proto":"https","accept-encoding":"gzip"},"body_length":2306}
2025-09-10 12:00:10 [INFO]: Server running on port 3000 {"service":"earlybird-payment-integration"}
2025-09-10 12:00:10 [INFO]: Environment: development {"service":"earlybird-payment-integration"}
2025-09-10 12:00:12 [INFO]: Connected to MongoDB {"service":"earlybird-payment-integration"}
2025-09-10 12:00:23 [INFO]: Skipping payment_intent.created event: pi_3S5hYUJoXlbUBqaQ1Cv3NOps {"service":"earlybird-payment-integration"}
2025-09-10 12:00:23 [INFO]: Payment event processed successfully {"service":"earlybird-payment-integration","transaction_id":"pi_3S5hYUJoXlbUBqaQ1Cv3NOps","amount":2000,"currency":"USD","status":"successful","source":"stripe","event_id":"68c11aff7f08c5c6f53f0c62"}
2025-09-10 12:01:49 [INFO]: Skipping payment_intent.created event: pi_3S5hZtJoXlbUBqaQ1bdhVHQY {"service":"earlybird-payment-integration"}
2025-09-10 12:01:49 [INFO]: Payment event processed successfully {"service":"earlybird-payment-integration","transaction_id":"pi_3S5hZtJoXlbUBqaQ1bdhVHQY","amount":2000,"currency":"USD","status":"successful","source":"stripe","event_id":"68c11b557f08c5c6f53f0c65"}
2025-09-10 12:03:11 [INFO]: Skipping payment_intent.created event: pi_3S5hbCJoXlbUBqaQ0Fzln4nv {"service":"earlybird-payment-integration"}
2025-09-10 12:03:11 [INFO]: Payment event processed successfully {"service":"earlybird-payment-integration","transaction_id":"pi_3S5hbCJoXlbUBqaQ0Fzln4nv","amount":2000,"currency":"USD","status":"failed","source":"stripe","event_id":"68c11ba77f08c5c6f53f0c68"}
2025-09-10 12:31:19 [INFO]: Server running on port 3000 {"service":"earlybird-payment-integration"}
2025-09-10 12:31:19 [INFO]: Environment: development {"service":"earlybird-payment-integration"}
2025-09-10 12:31:21 [INFO]: Connected to MongoDB {"service":"earlybird-payment-integration"}
2025-09-10 12:32:15 [INFO]: Google OAuth callback received {"service":"earlybird-payment-integration","userId":"117965104691782233753","email":"sears4059@gmail.com"}
2025-09-10 12:32:16 [INFO]: User authenticated successfully {"service":"earlybird-payment-integration","userId":"68c122770de721c0aad5aa45","email":"sears4059@gmail.com","loginTime":"2025-09-10T07:02:16.105Z"}
2025-09-10 12:39:45 [INFO]: Payment events retrieved {"service":"earlybird-payment-integration","userId":"68c122770de721c0aad5aa45","filter":{},"page":1,"limit":20,"totalCount":3}
2025-09-10 12:40:16 [INFO]: Payment event retrieved by ID {"service":"earlybird-payment-integration","userId":"68c122770de721c0aad5aa45","paymentId":"68c11ba77f08c5c6f53f0c68","transactionId":"pi_3S5hbCJoXlbUBqaQ0Fzln4nv"}
2025-09-10 12:40:31 [INFO]: Payment event processed successfully {"service":"earlybird-payment-integration","transaction_id":"pi_3S5hEXJoXlbUBqaQ1qAZVK45","amount":2000,"currency":"USD","status":"successful","source":"stripe","event_id":"68c124670de721c0aad5aa4e"}
2025-09-10 12:40:40 [ERROR]: Webhook processing failed: {"service":"earlybird-payment-integration","error":"Unsupported Stripe event type: payment_intent.created","headers":{"host":"realtime-mcp.ngrok.app","user-agent":"Stripe/1.0 (+https://stripe.com/docs/webhooks)","content-length":"2265","accept":"*/*; q=0.5, application/json","cache-control":"no-cache","content-type":"application/json; charset=utf-8","stripe-signature":"t=1757488276,v1=72e12eb95348a5c1b8643e0c907003a675023cce98eb2929f41241a8f58bc28b,v0=0811b47d01a125c741981f9b9d499bcc8b904e779354d55c77c3c6f9532b77a5","x-forwarded-for":"52.15.183.38","x-forwarded-host":"realtime-mcp.ngrok.app","x-forwarded-proto":"https","accept-encoding":"gzip"},"body_length":2265}
2025-09-10 12:40:41 [INFO]: Payment statistics retrieved {"service":"earlybird-payment-integration","userId":"68c122770de721c0aad5aa45","dateFilter":{},"totalEvents":4}
2025-09-10 12:42:15 [INFO]: Payment event processed successfully {"service":"earlybird-payment-integration","transaction_id":"pi_3S5hHOJoXlbUBqaQ1XFY7wOJ","amount":2000,"currency":"USD","status":"successful","source":"stripe","event_id":"68c124ce0de721c0aad5aa55"}
2025-09-10 12:42:36 [INFO]: Payment events retrieved {"service":"earlybird-payment-integration","userId":"68c122770de721c0aad5aa45","filter":{},"page":1,"limit":20,"totalCount":5}
2025-09-10 12:43:54 [ERROR]: Webhook processing failed: {"service":"earlybird-payment-integration","error":"Unsupported Stripe event type: payment_intent.created","headers":{"host":"realtime-mcp.ngrok.app","user-agent":"Stripe/1.0 (+https://stripe.com/docs/webhooks)","content-length":"2265","accept":"*/*; q=0.5, application/json","cache-control":"no-cache","content-type":"application/json; charset=utf-8","stripe-signature":"t=1757488471,v1=6c51a34f2a2ac8d579b8523aaae1dd76bd813c8e8f9056711f33de959850c9bd,v0=f429558932e5287bacd7eda1969287b51632ed22a5cc413315db3be75f3f46c6","x-forwarded-for":"3.18.12.63","x-forwarded-host":"realtime-mcp.ngrok.app","x-forwarded-proto":"https","accept-encoding":"gzip"},"body_length":2265}
2025-09-10 12:45:07 [ERROR]: Webhook processing failed: {"service":"earlybird-payment-integration","error":"Unsupported Stripe event type: payment_intent.created","headers":{"host":"realtime-mcp.ngrok.app","user-agent":"Stripe/1.0 (+https://stripe.com/docs/webhooks)","content-length":"2265","accept":"*/*; q=0.5, application/json","cache-control":"no-cache","content-type":"application/json; charset=utf-8","stripe-signature":"t=1757488543,v1=564e5ee2b8d143e3ff98329104a8a95affcd1294f8ecc34e0ba01ef872250784,v0=4a959c5a598e0edbdbc4e33a64b82cee6d31f24b5781b08e7e6301a6be609014","x-forwarded-for":"3.130.192.231","x-forwarded-host":"realtime-mcp.ngrok.app","x-forwarded-proto":"https","accept-encoding":"gzip"},"body_length":2265}
2025-09-10 12:45:11 [INFO]: Payment event processed successfully {"service":"earlybird-payment-integration","transaction_id":"pi_3S5hItJoXlbUBqaQ0IeFXqzE","amount":2000,"currency":"USD","status":"successful","source":"stripe","event_id":"68c1257f0de721c0aad5aa5b"}
2025-09-10 12:45:22 [ERROR]: Webhook processing failed: {"service":"earlybird-payment-integration","error":"Unsupported Stripe event type: payment_intent.created","headers":{"host":"realtime-mcp.ngrok.app","user-agent":"Stripe/1.0 (+https://stripe.com/docs/webhooks)","content-length":"2265","accept":"*/*; q=0.5, application/json","cache-control":"no-cache","content-type":"application/json; charset=utf-8","stripe-signature":"t=1757488558,v1=33ea6377441ddb3b75ae51db4328df3b5f3116ad9a64f8f67a3028ce6175b558,v0=289ff3c1a3a5c113a14dd3c57024350910c15dba3d55c17854644cd7b1556e6f","x-forwarded-for":"3.130.192.231","x-forwarded-host":"realtime-mcp.ngrok.app","x-forwarded-proto":"https","accept-encoding":"gzip"},"body_length":2265}
2025-09-10 12:45:31 [INFO]: Payment event processed successfully {"service":"earlybird-payment-integration","transaction_id":"pi_3S5hK0JoXlbUBqaQ1hVpayMM","amount":2000,"currency":"USD","status":"successful","source":"stripe","event_id":"68c125930de721c0aad5aa5e"}
2025-09-10 12:45:33 [INFO]: Payment event processed successfully {"service":"earlybird-payment-integration","transaction_id":"pi_3S5hKsJoXlbUBqaQ1j8nVryD","amount":2000,"currency":"USD","status":"successful","source":"stripe","event_id":"68c125950de721c0aad5aa61"}
2025-09-10 12:46:22 [ERROR]: Webhook processing failed: {"service":"earlybird-payment-integration","error":"Unsupported Stripe event type: payment_intent.created","headers":{"host":"realtime-mcp.ngrok.app","user-agent":"Stripe/1.0 (+https://stripe.com/docs/webhooks)","content-length":"2265","accept":"*/*; q=0.5, application/json","cache-control":"no-cache","content-type":"application/json; charset=utf-8","stripe-signature":"t=1757488619,v1=8e9f6196fb371dd7647f2d705a1ed86b8f56b52fe717ccae53c9e8dd12ffe2f1,v0=83671ed6fd95682997901f7cf893532c6a65a430e3820c23d95a01ecf0d9010b","x-forwarded-for":"3.130.192.231","x-forwarded-host":"realtime-mcp.ngrok.app","x-forwarded-proto":"https","accept-encoding":"gzip"},"body_length":2265}
2025-09-10 12:47:50 [INFO]: Payment event processed successfully {"service":"earlybird-payment-integration","transaction_id":"pi_3S5hMtJoXlbUBqaQ1tD7MHRF","amount":2000,"currency":"USD","status":"successful","source":"stripe","event_id":"68c1261d0de721c0aad5aa64"}
2025-09-10 12:48:54 [ERROR]: Webhook processing failed: {"service":"earlybird-payment-integration","error":"Unsupported Stripe event type: payment_intent.created","headers":{"host":"realtime-mcp.ngrok.app","user-agent":"Stripe/1.0 (+https://stripe.com/docs/webhooks)","content-length":"2265","accept":"*/*; q=0.5, application/json","cache-control":"no-cache","content-type":"application/json; charset=utf-8","stripe-signature":"t=1757488771,v1=be0dcd5310acc8647164f2523d308652f08893e111730403bdbb9a54aae50bab,v0=992f6ffd3b9441d3203450d053d7c47262a22e112cf046704421fa10ed6cf890","x-forwarded-for":"3.130.192.231","x-forwarded-host":"realtime-mcp.ngrok.app","x-forwarded-proto":"https","accept-encoding":"gzip"},"body_length":2265}
2025-09-10 12:49:19 [ERROR]: Webhook processing failed: {"service":"earlybird-payment-integration","error":"Unsupported Stripe event type: payment_intent.created","headers":{"host":"realtime-mcp.ngrok.app","user-agent":"Stripe/1.0 (+https://stripe.com/docs/webhooks)","content-length":"2265","accept":"*/*; q=0.5, application/json","cache-control":"no-cache","content-type":"application/json; charset=utf-8","stripe-signature":"t=1757488796,v1=bf48cf8d6d8a6b2cadb2a0d979a13dfd1bcafb3832ef9d956ee0dc3f4ab521e4,v0=7f8ef9cc74d2d11a16a27455997950a5271775d1ef53b66ca2618687c2c8b642","x-forwarded-for":"3.18.12.63","x-forwarded-host":"realtime-mcp.ngrok.app","x-forwarded-proto":"https","accept-encoding":"gzip"},"body_length":2265}
2025-09-10 12:50:27 [INFO]: Payment event processed successfully {"service":"earlybird-payment-integration","transaction_id":"pi_3S5hONJoXlbUBqaQ12wqpwrH","amount":2000,"currency":"USD","status":"successful","source":"stripe","event_id":"68c126bb0de721c0aad5aa67"}
2025-09-10 12:51:02 [INFO]: Payment event processed successfully {"service":"earlybird-payment-integration","transaction_id":"pi_3S5hOfJoXlbUBqaQ1KzFUcMD","amount":2000,"currency":"USD","status":"successful","source":"stripe","event_id":"68c126dd0de721c0aad5aa6a"}
2025-09-10 12:51:16 [ERROR]: Webhook processing failed: {"service":"earlybird-payment-integration","error":"Unsupported Stripe event type: payment_intent.created","headers":{"host":"realtime-mcp.ngrok.app","user-agent":"Stripe/1.0 (+https://stripe.com/docs/webhooks)","content-length":"2265","accept":"*/*; q=0.5, application/json","cache-control":"no-cache","content-type":"application/json; charset=utf-8","stripe-signature":"t=1757488913,v1=a8b19c810f3b5f8135b0c0f29fd53a57fc7f707f1b793b77923ebd2aeba9ca8c,v0=65e6abc9d81041effebf3f7e7f5cdc6912b5b2f129ddf0be4ed7e2b295a934ef","x-forwarded-for":"3.130.192.231","x-forwarded-host":"realtime-mcp.ngrok.app","x-forwarded-proto":"https","accept-encoding":"gzip"},"body_length":2265}
2025-09-10 12:53:09 [INFO]: Payment event processed successfully {"service":"earlybird-payment-integration","transaction_id":"pi_3S5hSDJoXlbUBqaQ041m1g0G","amount":2000,"currency":"USD","status":"successful","source":"stripe","event_id":"68c1275d0de721c0aad5aa6d"}
2025-09-10 12:55:32 [INFO]: Payment event processed successfully {"service":"earlybird-payment-integration","transaction_id":"pi_3S5hTyJoXlbUBqaQ17V3ok2c","amount":2000,"currency":"USD","status":"successful","source":"stripe","event_id":"68c127ec0de721c0aad5aa70"}
2025-09-10 12:56:31 [INFO]: Payment event processed successfully {"service":"earlybird-payment-integration","transaction_id":"pi_3S5hVnJoXlbUBqaQ0DITGCx9","amount":2000,"currency":"USD","status":"successful","source":"stripe","event_id":"68c128260de721c0aad5aa73"}
